name: aks-version-test
title: AKS Kubernetes Version Compliance Test
maintainer: DevOps Team
copyright: Your Organization
copyright_email: devops@yourorg.com
license: Apache-2.0
summary: Simple test to verify AKS cluster is running Kubernetes version 1.32.x
version: 1.0.0
inspec_version: '>= 5.0'

platform:
  name: azure
  release: '*'

depends:
  - name: inspec-azure
    url: https://github.com/inspec/inspec-azure/archive/v1.118.29.tar.gz

inputs:
  - name: resource_group_name
    description: The Azure resource group name containing AKS cluster
    type: string
    required: true
    value: <%= ENV['AZURE_RESOURCE_GROUP'] || 'rg-aso-dev' %>

  - name: aks_cluster_name
    description: The AKS cluster name to test
    type: string
    required: true
    value: <%= ENV['AKS_CLUSTER_NAME'] || 'aks-cluster' %>

supports:
  - platform-name: azure